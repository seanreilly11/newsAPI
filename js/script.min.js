$(document).ready(function(){var t,a,r,c;function e(){var e="https://newsapi.org/v2/top-headlines?";0!=t&&null!=t&&(e+="country="+t+"&"),0!=a&&null!=a&&(e+="category="+a+"&"),0!=r&&null!=r&&(e+="sources="+r+"&"),""!=c&&null!=c&&(e+="q="+c+"&"),"https://newsapi.org/v2/top-headlines?"===e&&(e+="country=nz&"),l(e+="apiKey=f86d2f8d630843db90156d4555dab9cb")}function l(e){$.ajax({url:e,type:"GET",data:"json",success:function(e){0===e.articles.length&&$("#no-results").show(),document.getElementById("output").innerHTML="";for(var t=0;t<e.articles.length;t++){var a="";null==e.articles[t].urlToImage&&(e.articles[t].urlToImage="images/News.jpg"),a+='<div class="card col-4"><img src="'+e.articles[t].urlToImage+'" class="card-img-top"><div class="card-body"><h5 class="card-title">'+e.articles[t].title+"</h5>",null!=e.articles[t].description&&(a+='<p class="card-text">'+e.articles[t].description+"</p>"),a+='<a class="btn btn-outline-primary" target="_blank" href="'+e.articles[t].url+'">View story here</a></p></div></div>',document.getElementById("output").innerHTML+=a}},error:function(){console.log("error")}})}e(),"0"==$("#country").val()&&"0"==$("#category").val()||$("#source").attr("disabled",!0),"0"!=$("#source").val()&&($("#country").attr("disabled",!0),$("#category").attr("disabled",!0)),$("#country").change(function(){"0"===$("#country").val()&&$("#source").attr("disabled",!1),"0"!=$("#country").val()&&$("#source").attr("disabled",!0)}),$("#category").change(function(){"0"===$("#category").val()&&$("#source").attr("disabled",!1),"0"!=$("#category").val()&&$("#source").attr("disabled",!0)}),$("#source").change(function(){"0"===$("#source").val()&&($("#country").attr("disabled",!1),$("#category").attr("disabled",!1)),"0"!=$("#source").val()&&($("#country").attr("disabled",!0),$("#category").attr("disabled",!0))}),$("#submit").click(function(){t=document.getElementById("country").value,a=document.getElementById("category").value,r=document.getElementById("source").value,c=document.getElementById("search-term").value,$("#no-results").hide(),e()}),$("#reset").click(function(){$(".custom-select").prop("selectedIndex",0),$(".custom-select").attr("disabled",!1),$("#search-term").val(""),$("#no-results").hide(),l("https://newsapi.org/v2/top-headlines?country=nz&apiKey=f86d2f8d630843db90156d4555dab9cb")})});