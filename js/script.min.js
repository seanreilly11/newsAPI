$(document).ready(function(){var t,a,r;function e(){$.ajax({url:"http://newsapi.org/v2/top-headlines?country=nz&apiKey=f86d2f8d630843db90156d4555dab9cb",type:"GET",data:"json",success:function(e){document.getElementById("output").innerHTML="";for(var t=0;t<e.articles.length;t++)null==e.articles[t].urlToImage&&(e.articles[t].urlToImage="images/News.jpg"),document.getElementById("output").innerHTML+='<div class="card col-4"><img src="'+e.articles[t].urlToImage+'" class="card-img-top"><div class="card-body"><h5 class="card-title">'+e.articles[t].title+'</h5><p class="card-text">'+e.articles[t].description+'</p><a class="card-text" target="_blank" href="'+e.articles[t].url+'">View story here</a></p></div></div>'},error:function(){console.log("error")}})}e(),"0"==$("#country").val()&&"0"==$("#category").val()||$("#source").attr("disabled",!0),"0"!=$("#source").val()&&($("#country").attr("disabled",!0),$("#category").attr("disabled",!0)),$("#country").change(function(){"0"===$("#country").val()&&$("#source").attr("disabled",!1),"0"!=$("#country").val()&&$("#source").attr("disabled",!0)}),$("#category").change(function(){"0"===$("#category").val()&&$("#source").attr("disabled",!1),"0"!=$("#category").val()&&$("#source").attr("disabled",!0)}),$("#source").change(function(){"0"===$("#source").val()&&($("#country").attr("disabled",!1),$("#category").attr("disabled",!1)),"0"!=$("#source").val()&&($("#country").attr("disabled",!0),$("#category").attr("disabled",!0))}),$("#submit").click(function(){t=document.getElementById("country").value,a=document.getElementById("category").value,r=document.getElementById("source").value,function(){var e="http://newsapi.org/v2/top-headlines?";0!=t&&(e+="country="+t+"&");0!=a&&(e+="category="+a+"&");0!=r&&(e+="sources="+r+"&");"http://newsapi.org/v2/top-headlines?"===e&&(e+="country=nz&");!function(e){$.ajax({url:e,type:"GET",data:"json",success:function(e){console.log(e.articles),document.getElementById("output").innerHTML="";for(var t=0;t<e.articles.length;t++)null==e.articles[t].urlToImage&&(e.articles[t].urlToImage="images/News.jpg"),document.getElementById("output").innerHTML+='<div class="card col-4"><img src="'+e.articles[t].urlToImage+'" class="card-img-top"><div class="card-body"><h5 class="card-title">'+e.articles[t].title+'</h5><p class="card-text">'+e.articles[t].description+'</p><a class="card-text" target="_blank" href="'+e.articles[t].url+'">View story here</a></p></div></div>'},error:function(){console.log("error")}})}(e+="apiKey=f86d2f8d630843db90156d4555dab9cb")}()}),$("#reset").click(function(){$("#country").prop("selectedIndex",0),$("#category").prop("selectedIndex",0),$("#source").prop("selectedIndex",0),$("#source").attr("disabled",!1),$("#category").attr("disabled",!1),$("#country").attr("disabled",!1),e()})});